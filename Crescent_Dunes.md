# General

## Description

Wind loading is a main contributor to structural design costs of Concentrating Solar Power (CSP) collectors, such as heliostats. These structures must resist the mechanical forces generated by turbulent wind. At the same time, the reflector surfaces must exhibit the necessary rigidity to maintain their optimal optical performance in windy conditions.

In 2024-2025, NREL conducted comprehensive field measurements of the atmospheric turbulent wind conditions and the resulting structural wind loads on heliostats at the Crescent Dunes power plant. The measurement set-up included meteorological masts and structural load sensors on three heliostats. Additionally, we commissioned a lidar scanning the solar field along the north-west quadrant.

This data set catalogs the high-resolution data set characterizing the complex flow field and resulting structural loads on heliostats. By providing this first-of-its-kind data set to the CSP community, we aim to enhance the community's understanding of wind-loading experienced by heliostats. This data set will also help design next-generation photovoltaic trackers.

## Measurement setup

The measurement setup is installed within the heliostat field of the Crescent Dunes power tower plant (https://solarpaces.nrel.gov/project/crescent-dunes-solar-energy-project). The plant is located near Tonopah, Nevada, USA, at 38.239N, -117.363E and at 1500 m elevation in a hilly desert environment. The plant’s heliostat field consists of 10347 heliostats surrounding a central tower. NREL’s measurement setup is located at the northwest part of the collector field (outer edge and interior field), targeting prevailing winds from the Northwest, and a lidar is located near the central tower. See the figures below for an overview of the measurement setup, which consists of met masts, a lidar, and load sensors on selected heliostats. Details for each measurement type (met masts, lidar, loads) are summarized in separate documentation for each type. The loads measurements will be added in the future.

### Overview of the measurement locations within the heliostat field

<img width="975" height="671" alt="image" src="https://github.com/user-attachments/assets/038662ae-0c03-44ef-8031-fc45775fdd33" />

### Details of the met mast, lidar and loads instrumentation

<img width="975" height="453" alt="image" src="https://github.com/user-attachments/assets/d8320e29-6526-4172-988a-024745e67b46" />

## Directory structure

Top-level Structure

```
crescent_dunes/
├── lidar/
├── inflow_mast_20Hz/
├── inflow_mast_1min/
├── wake_masts_20Hz/
└── wake_masts_1min/
```

The general file structure separates lidar data from inflow and wake mast measurements, each provided at native (20 Hz) and averaged (1 minute) temporal resolution. Loads data will be added in the future.

## Code examples

Example Python scripts to read the data are provided at the OEDI data lake.

---



# Met masts

## Met mast measurement setup

The met mast setup consists of an inflow mast outside of the northwest edge of the heliostat field, and two wake masts (one behind the outermost heliostat row and one in the interior field between the field northwest edge and the central tower). The masts are equipped with the following instruments:

<img width="975" height="435" alt="image" src="https://github.com/user-attachments/assets/694a06fb-ea71-462d-8204-784878c5ead7" />


The following instrumentation is used:

| Instrument             | Instrument type            | Height | Measured quantity                   | Sampling rate |
| ---------------------- | -------------------------- | ------ | ----------------------------------- | ------------- |
| **Inflow mast**        |                            |        |                                     |               |
| Top Sonic Anemometer   | Gill Windmaster Pro        | 11m    | 3D wind, sonic temperature          | 20Hz          |
| Mid Sonic Anemometer   | Gill Windmaster            | 5.5m   | 3D wind, sonic temperature          | 20Hz          |
| Low Sonic Anemometer   | Gill Windmaster            | 2.75m  | 3D wind, sonic temperature          | 20Hz          |
| Cup Anemometer         | Thies First Class Advanced | 15m    | 1D wind                             | 1Hz           |
| Upper temperature      | RTD PT100                  | 11m    | Temperature                         | 1Hz           |
| Lower Temperature & RH | Vaisala PTU307             | 2.65m  | Temperature, relative humidity (RH) | 1Hz           |
| Pressure               | Vaisala PTU307             | 1.3m   | Atmospheric pressure                | 1Hz           |
| **Wake masts 1 & 3**   |                            |        |                                     |               |
| Top Sonic Anemometer   | Gill Windmaster            | 11m    | 3D wind, sonic temperature          | 20Hz          |
| Mid Sonic Anemometer   | Gill Windmaster            | 5.5m   | 3D wind, sonic temperature          | 20Hz          |
| Low Sonic Anemometer   | Gill Windmaster            | 2.75m  | 3D wind, sonic temperature          | 20Hz          |

One Campbell CR1000X data logger for each mast collected the input signals of all met mast instruments and a GPS receiver. The GPS time stamp was used for synchronization with other data streams. Data were transferred to NLR servers hourly using the data logger server software via a cellular modem.

---

## Data processing and quality control

The met mast data for inflow and wake masts is processed analog to a prior met mast dataset, described in [1].

---

## Directory structure

The directory structure is:

```
Crescent_Dunes/

  {}/            data set type: inflow_mast_1min, inflow_mast_20Hz, wake_masts_1min, wake_masts_20Hz, loads_1min, loads_20Hz, or lidar

   {}/           version: e.g. v1.0.0

    year={}/     year

     month={}/   month

      day={}/    day
```

---

The structure of the filenames is:

```
Type_YYYY-MM-DD_00h_to_YYYY-MM-DD_00h.parquet
```

* **YYYY-MM-DD**: date of the daily file that contains data from 00:00 UTC to 24:00 UTC
* **Type**: Inflow_mast_20Hz, Inflow_mast_1min, Wake_masts_20Hz, Wake_masts_1min

Examples:

```
crescent_dunes/v1.0.0/inflow_mast_20Hz/year=2025/month=02/day=24/Inflow_Mast_20Hz_2025-02-24_00h_to_2025-02-25_00h.parquet
```

```
crescent_dunes/v1.0.0/wake_masts_1min/year=2025/month=02/day=24/Inflow_Mast_20Hz_2025-02-24_00h_to_2025-02-25_00h.parquet
```

---



## Data format

Data are stored in the Parquet file format. The variables and units in each dataset are listed in [1], table 2. The only variables not included in this dataset are length scales.





# Lidar Data

## Directory Structure

```
crescent_dunes/lidar/v1.0.0/raw_lidar_data/YYYYMM/YYYYMMDD
```

* **Background_DDMMYY-hhmmss.txt**
  Taken every hour by the lidar to remove any non-white features present in the noise floor.

* **User1_0006_YYYYMMDD_hhmmss.hpl**
  User-prescribed PPI (horizontal) scan.

* **User2_0006_YYYYMMDD_hhmmss.hpl**
  User-prescribed RHI (vertical) scan.

* **Stare_0006_YYYYMMDD_hh.hpl**
  Stare scan, conducted in between user-prescribed scans.

```
crescent_dunes/lidar/v1.0.0/processed_lidar_data
```

* **cd.lidar.z01.b0.YYYYMMDD.hhmmss.PPI.CD.PPI.nc**
  Standardized and quality-controlled PPI scan.

* **cd.lidar.z01.b0.YYYYMMDD.hhmmss.RHI.CD.RHI.nc**
  Standardized and quality-controlled RHI scan.

* **cd.lidar.z01.b0.YYYYMMDD.hhmmss.{scan}.CD.{scan}_wind_speed.png**
  Plots showing radial wind speed before and after filtering.

* **cd.lidar.z01.b0.YYYYMMDD.hhmmss.{scan}.CD.{scan}_probability.png**
  Plots of the probability distributions of measured points versus radial wind speed and SNR, following [2].

* **cd.lidar.z01.b0.YYYYMMDD.hhmmss.{scan}.CD.{scan}_angles.png**
  Plots showing the actual and regularized lidar beam angles during the scan.

---

## Quality Control Processing

Quality control is implemented using **LiDARGO**:
[https://github.com/StefanoWind/FIEXTA/tree/main/lidargo/lidargo](https://github.com/StefanoWind/FIEXTA/tree/main/lidargo/lidargo)

All parameters used to generate each quality-controlled NetCDF file are recorded in the attributes of the `qc_wind_speed` variable (see “File structure” section).

### Processing Steps

1.	Start time of scan is read from file metadata (header) and used to rename file, along with scan type
2.	Read in all lines from .hpl file and reformat into xarray with dimensions of time and range gate
3.	Add metadata from file header as dataset attributes, including the range gate length, number of range gates, scan type, and pulses per ray
4.	Calculate SNR and radial distance (depends on gate length and gate overlapping)
5.	Bin azimuth and elevation values, then update to bin centers within specified tolerance
6.	Remove data outside prescribed range, radial wind speed (rws), and SNR limits
7.	Perform dynamic filtering based on [2]\
  a.	Bin data in space and time\
  b.	Normalize rws and SNR in each bin\
  c.	Remove bins without enough members\
  d.	Remove points with standard error outside the limit\
  e.	Calculate two-dimensional histogram of normalized rws and SNR\
  f.	Identify probability threshold where the dispersion increases above a prescribed amount\
  g.	Remove points below probability threshold\
  h.	Remove bins without enough remaining points\
8.	Re-index file with number of beams per scan and number of scans, to have dimensions of [range, beamID, scanID] based on scan type (i.e., PPI or RHI)
9.	Add attributes to variables explaining their meanings and units, along with global file attributes
10.	Make and save figures showing the quality and control procedure

---

## File Structure

### Raw Lidar Files

```
crescent_dunes/lidar/v1.0.0/raw_lidar_data/YYYYMM/YYYYMMDD/
  UserN_0006_YYYYMMDD_hhmmss.hpl
```

Sample Header

```
Filename:        User1_0006_20250201_035307.hpl
System ID:       0006
Number of gates: 200
Range gate length (m): 18.0
Gate length (pts): 6
Pulses/ray:      10000
No. of rays in file: 91
Scan type:       User file 1 - stepped
Focus range:     65535
Start time:      20250201 03:53:13.78
Resolution (m/s): 0.0382
Range of measurement (center of gate): (range gate + 0.5) * gate length
Data line 1:
Decimal time (hours)
Azimuth (degrees)
Elevation (degrees)
Pitch (degrees)
Roll (degrees)
f9.6, 1x, f6.2, 1x, f6.2
Data line 2:
Range Gate
Doppler (m/s)
Intensity (SNR + 1)
Beta (m-1 sr-1)
i3, 1x, f6.4, 1x, f8.6, 1x, e12.6
(repeated for each gate)
```

Below the header, the data is stored as described in “Data line 1” and “Data line 2”. For each beam, one “Data line 1” has five columns that describe the beam, followed by a number of “Data line 2” corresponding to the number of range gates, each with four columns describing the data collected at that range gate.

---

### Processed NetCDF Files

```
crescent_dunes/lidar/v1.0.0/processed_lidar_data/
  cd.lidar.z01.b0.YYYYMMDD.hhmmss.XXX.CD.XXX.nc
```

Global Attributes (selection of most important ones):

* Range gate length (m)
* Number of gates
* Pulses per ray
* Scan mode
* File history

Dimensions/coordinates:

* `range`
* `beamID`
* `scanID` *(each file contains a single scan, so `scanID = 1`)*

### Variables

| Variable        | Dimensions              | Description                   | Units                  |
| --------------- | ----------------------- | ----------------------------- | ---------------------- |
| `x`             | (range, beamID, scanID) | Eastward distance             | m                      |
| `y`             | (range, beamID, scanID) | Northward distance            | m                      |
| `z`             | (range, beamID, scanID) | Vertical distance             | m                      |
| `wind_speed`    | (range, beamID, scanID) | Line-of-sight radial velocity | m/s                    |
| `SNR`           | (range, beamID, scanID) | Signal-to-noise ratio         | dB                     |
| `azimuth`       | (beamID, scanID)        | Beam azimuth angle            | °                      |
| `elevation`     | (beamID, scanID)        | Beam elevation angle          | °                      |
| `pitch`         | (range, beamID, scanID) | Lidar pitch angle             | °                      |
| `roll`          | (range, beamID, scanID) | Lidar roll angle              | °                      |
| `qc_wind_speed` | (range, beamID, scanID) | QC flag (0 = pass) *           | –                      |
| `rws_norm`      | (range, beamID, scanID) | Normalized radial velocity    | m/s                    |
| `snr_norm`      | (range, beamID, scanID) | Normalized SNR                | dB                     |
| `probability`   | (range, beamID, scanID) | 2-D PDF value                 | –                      |
| `time`          | (beamID, scanID)        | Beam time (UTC)               | YYYY-MM-DD hh:mm:ss.ns |

\* QC flag values 1–11 are defined in the variable attributes along with all QC parameters.

---

## Lidar Settings and Scan Parameters

Lidar settings changed slightly throughout the campaign to account for changing scientific objectives and data quality. The following table shows the settings and the times at which changes were implemented:

| Date       | UTC Time | Range Gate | Measurement Range | Averages | Scan 1 | Elev. Range 1 | Elev. Res. 1 | Az. Range 1 | Az. Res. 1 | Scan 2 | Elev. Range 2 | Elev. Res. 2 | Az. Range 2 | Az. Res. 2 | Notes                                     |
| ---------- | -------- | ---------- | ----------------- | -------- | ------ | ------------- | ------------ | ----------- | ---------- | ------ | ------------- | ------------ | ----------- | ---------- | ----------------------------------------- |
| 2024-09-04 | 19:30    | 18 m       | 7200 m            | 3000     | PPI    | [0,0]         | N/A          | [0,90]      | 1°         | RHI    | [0,5]         | 0.1°         | [45,45]     | N/A        | Original scan pattern                     |
| 2024-09-05 | 17:00    | 18 m       | 7200 m            | 3000     | PPI    | [0,0]         | N/A          | [0,90]      | 1°         | RHI    | [0,5]         | 0.1°         | [45,45]     | N/A        | Changed time to UTC, removed gate overlap |
| 2024-09-12 | 16:30    | 18 m       | 7200 m            | 3000     | PPI    | [180,180]     | N/A          | [180,270]   | 1°         | RHI    | [0,5]         | 0.1°         | [45,45]     | N/A        | Flip PPI scan head                        |
| 2024-09-12 | 18:00    | 18 m       | 7200 m            | 3000     | PPI    | [180,180]     | N/A          | [180,270]   | 1°         | RHI    | [0,5]         | 0.1°         | [64,64]     | N/A        | Align RHI with wind                       |
| 2024-09-12 | 20:00    | 18 m       | 7200 m            | 3000     | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [0,5]         | 0.1°         | [64,64]     | N/A        | Exclude obstacle                          |
| 2024-09-19 | 22:30    | 12 m       | 3480 m            | 3000     | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [0,5]         | 0.1°         | [64,64]     | N/A        | Higher resolution                         |
| 2024-09-20 | 21:30    | 12 m       | 3480 m            | 3000     | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [0,5]         | 0.05°        | [64,64]     | N/A        | Increased RHI resolution                  |
| 2024-09-20 | 22:30    | 12 m       | 3480 m            | 3000     | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [-2,5]        | 0.05°        | [64,64]     | N/A        | Include negative elevation                |
| 2024-09-20 | 23:45    | 18 m       | 3600 m            | 3000     | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [-2,5]        | 0.05°        | [64,64]     | N/A        | Reduced resolution                        |
| 2024-12-05 | 19:00    | 18 m       | 3600 m            | 10000    | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [-2,5]        | 0.05°        | [64,64]     | N/A        | Increased averaging                       |
| 2025-02-26 | 23:00    | 18 m       | 3600 m            | 10000    | PPI    | [180,180]     | N/A          | [193,283]   | 1°         | RHI    | [-2,5]        | 0.05°        | [64,64]     | N/A        | Repeat scans every 16 min                 |


---

## References

[1] Egerer, U., Dana, S., Jager, D. et al. *Wind and structural loads data measured on parabolic trough solar collectors at an operational power plant*. Sci Data 11, 98 (2024). [https://doi.org/10.1038/s41597-023-02896-4](https://doi.org/10.1038/s41597-023-02896-4)

[2] Beck, H., & Kühn, M. (2017). Dynamic data filtering of long-range Doppler LiDAR wind speed measurements. Remote sensing, 9(6), 561.
